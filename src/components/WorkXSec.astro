---
import { CollectionEntry, getCollection } from 'astro:content';
import TimeLine from './TimeLine';
interface Job {
  id: string;
  company: string;
  post: string;
  date_start: string;
  date_end: string;
  description: string;
  stack: string[];
  goals: string[];
  image: string;
}

const projects: CollectionEntry<'jobs'>[] = await getCollection('jobs');

let list: Job[] = [];
projects.map((el) => {
  const obj: Job = { id: el.slug, ...el.data };
  list.push(obj);
});
---

<div id='work-experience' class='center-section mt-64'>
  <div class='flex flex-col w-3/4 justify-center items-center text-center'>
    <!-- title -->
    <div class='w-96 max-lg:w-5/6'>
      <h3 class='section-header'>Work experience</h3>
      <p class='mt-8'>
        Lorem ipsum, dolor sit amet consectetur adipisicing elit. Expedita ipsam
        tenetur laboriosam dolor veniam cupiditate quas.
      </p>
    </div>
    <TimeLine jobs={list} client:load />
  </div>
</div>
